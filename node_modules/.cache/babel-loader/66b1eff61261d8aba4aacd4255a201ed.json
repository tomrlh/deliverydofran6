{"ast":null,"code":"import { Container } from \"unstated\";\n\nclass OrderContainer extends Container {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      orderDetails: \"\",\n      cep: \"\",\n      logradouro: \"\",\n      numero: \"\",\n      bairro: \"\",\n      cidade: \"\",\n      complemento: \"\",\n      bag: [],\n      total: 0,\n      companyTitle: \"Delivery do Fran6\",\n      companyDescription: \"Rua Janary Nunes 815, Infraero 1, Macapá-AP\",\n      companyContact: \"5541998943368\",\n      orderOwner: \"\"\n    };\n  }\n\n  formatPrice(price) {\n    return parseInt(price.replace(\",\", \".\"), 10);\n  }\n\n  addToBag(item) {\n    this.setState(state => {\n      const newBag = state.bag.concat(item);\n      const newTotal = state.total += item.price;\n      return {\n        bag: newBag,\n        total: newTotal\n      };\n    });\n  }\n\n  addAdditionalsToItem(additionals, id) {\n    let itemToUpdate = this.state.bag.filter(item => item.id == id);\n    itemToUpdate.additionals = additionals;\n    let items = this.state.bag.map(item => {\n      if (item.id = id) item = itemToUpdate;\n      return item;\n    });\n  }\n\n  removeFromBag(itemToRemove) {\n    this.setState(state => {\n      const newBag = state.bag.filter(item => item.id != itemToRemove.id);\n      const newTotal = state.total -= itemToRemove.price;\n      return {\n        bag: newBag,\n        total: newTotal\n      };\n    });\n  }\n\n  clearOrder() {\n    this.setState({\n      bag: [],\n      orderOwner: \"\",\n      orderDetails: \"\",\n      addressPlaceholder: \"Adicione o endereço de entrega..\"\n    });\n  }\n\n  setOrderDetails(orderDetails) {\n    this.setState({\n      orderDetails\n    });\n  }\n\n  setOrderOwner(orderOwner) {\n    this.setState({\n      orderOwner\n    });\n  }\n\n  setCep(cep) {\n    this.setState({\n      cep\n    });\n  }\n\n  setComplemento(complemento) {\n    this.setState({\n      complemento\n    });\n  }\n\n  setNumero(numero) {\n    this.setState({\n      numero\n    });\n  }\n\n  setLogradouro(logradouro) {\n    this.setState({\n      logradouro\n    });\n  }\n\n  setBairro(bairro) {\n    this.setState({\n      bairro\n    });\n  }\n\n  setCidade(cidade) {\n    this.setState({\n      cidade\n    });\n  }\n\n  isEnderecoPreenchido() {\n    return this.state.complemento && this.state.numero && this.state.logradouro && this.state.bairro && this.state.cidade;\n  }\n\n  formatAdditionals(additionals) {\n    let textoFormatado = \"\";\n\n    if (additionals) {\n      textoFormatado = \" com adicionais de: \";\n      additionals.forEach(add => {\n        textoFormatado += add.name + \", \";\n      });\n    }\n\n    return textoFormatado;\n  }\n\n  getTotalOrder() {\n    let totalOrder = 0;\n    this.state.bag.forEach(item => {\n      totalOrder += item.price;\n      item.additionals.forEach(add => {\n        totalOrder += add.price * add.qtt;\n      });\n    });\n    return totalOrder;\n  }\n\n  getOrderLink() {\n    let itens = \"\";\n    this.state.bag.forEach(item => itens += item.name + this.formatAdditionals(item.additionals));\n    return \"https://wa.me/\" + this.state.companyContact + `?text=Pedido para *${this.state.orderOwner}*: ` + itens + \"%0a\" + `*Endereço*%0a` + `*CEP*: ${this.state.cep}%0a` + `*Cidade*: ${this.state.cidade}%0a` + `*Logradouro*: ${this.state.logradouro}%0a` + `*Bairro*: ${this.state.bairro}%0a` + `*Número*: ${this.state.numero}%0a` + `*Complemento*: ${this.state.complemento}%0a` + `*Pedido as*: ${new Date(new Date().toLocaleString(\"pt-BR\", {\n      timeZone: \"America/Sao_Paulo\"\n    }))}%0a` + `*Total*: R$ ${this.getTotalOrder()}%0a` + `*OBS*: ${this.state.orderDetails}%0a`;\n  }\n\n}\n\nexport default OrderContainer;","map":{"version":3,"sources":["/media/tomrlh/Ubuntu_Data/tomrlh/Documents/Programming_Projects/Freelancers/deliverydofran6/src/containers/OrderContainer.js"],"names":["Container","OrderContainer","state","orderDetails","cep","logradouro","numero","bairro","cidade","complemento","bag","total","companyTitle","companyDescription","companyContact","orderOwner","formatPrice","price","parseInt","replace","addToBag","item","setState","newBag","concat","newTotal","addAdditionalsToItem","additionals","id","itemToUpdate","filter","items","map","removeFromBag","itemToRemove","clearOrder","addressPlaceholder","setOrderDetails","setOrderOwner","setCep","setComplemento","setNumero","setLogradouro","setBairro","setCidade","isEnderecoPreenchido","formatAdditionals","textoFormatado","forEach","add","name","getTotalOrder","totalOrder","qtt","getOrderLink","itens","Date","toLocaleString","timeZone"],"mappings":"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","sourcesContent":["import { Container } from \"unstated\";\n\nclass OrderContainer extends Container {\n  state = {\n    orderDetails: \"\",\n    cep: \"\",\n    logradouro: \"\",\n    numero: \"\",\n    bairro: \"\",\n    cidade: \"\",\n    complemento: \"\",\n    bag: [],\n    total: 0,\n    companyTitle: \"Delivery do Fran6\",\n    companyDescription: \"Rua Janary Nunes 815, Infraero 1, Macapá-AP\",\n    companyContact: \"5541998943368\",\n    orderOwner: \"\",\n  };\n\n  formatPrice(price) {\n    return parseInt(price.replace(\",\", \".\"), 10);\n  }\n\n  addToBag(item) {\n    this.setState((state) => {\n      const newBag = state.bag.concat(item);\n      const newTotal = (state.total += item.price);\n      return {\n        bag: newBag,\n        total: newTotal,\n      };\n    });\n  }\n\n  addAdditionalsToItem(additionals, id) {\n    let itemToUpdate = this.state.bag.filter((item) => item.id == id);\n\n    itemToUpdate.additionals = additionals;\n\n    let items = this.state.bag.map((item) => {\n      if ((item.id = id)) item = itemToUpdate;\n      return item;\n    });\n  }\n  removeFromBag(itemToRemove) {\n    this.setState((state) => {\n      const newBag = state.bag.filter((item) => item.id != itemToRemove.id);\n      const newTotal = (state.total -= itemToRemove.price);\n      return {\n        bag: newBag,\n        total: newTotal,\n      };\n    });\n  }\n  clearOrder() {\n    this.setState({\n      bag: [],\n      orderOwner: \"\",\n      orderDetails: \"\",\n      addressPlaceholder: \"Adicione o endereço de entrega..\",\n    });\n  }\n\n  setOrderDetails(orderDetails) {\n    this.setState({ orderDetails });\n  }\n  setOrderOwner(orderOwner) {\n    this.setState({ orderOwner });\n  }\n  setCep(cep) {\n    this.setState({ cep });\n  }\n  setComplemento(complemento) {\n    this.setState({ complemento });\n  }\n  setNumero(numero) {\n    this.setState({ numero });\n  }\n  setLogradouro(logradouro) {\n    this.setState({ logradouro });\n  }\n  setBairro(bairro) {\n    this.setState({ bairro });\n  }\n  setCidade(cidade) {\n    this.setState({ cidade });\n  }\n  isEnderecoPreenchido() {\n    return (\n      this.state.complemento &&\n      this.state.numero &&\n      this.state.logradouro &&\n      this.state.bairro &&\n      this.state.cidade\n    );\n  }\n  formatAdditionals(additionals) {\n    let textoFormatado = \"\";\n\n    if (additionals) {\n      textoFormatado = \" com adicionais de: \";\n      additionals.forEach((add) => {\n        textoFormatado += add.name + \", \";\n      });\n    }\n    return textoFormatado;\n  }\n\n  getTotalOrder() {\n    let totalOrder = 0;\n    this.state.bag.forEach((item) => {\n      totalOrder += item.price;\n      item.additionals.forEach((add) => {\n        totalOrder += add.price * add.qtt;\n      });\n    });\n    return totalOrder;\n  }\n\n  getOrderLink() {\n    let itens = \"\";\n\n    this.state.bag.forEach(\n      (item) => (itens += item.name + this.formatAdditionals(item.additionals))\n    );\n    return (\n      \"https://wa.me/\" +\n      this.state.companyContact +\n      `?text=Pedido para *${this.state.orderOwner}*: ` +\n      itens +\n      \"%0a\" +\n      `*Endereço*%0a` +\n      `*CEP*: ${this.state.cep}%0a` +\n      `*Cidade*: ${this.state.cidade}%0a` +\n      `*Logradouro*: ${this.state.logradouro}%0a` +\n      `*Bairro*: ${this.state.bairro}%0a` +\n      `*Número*: ${this.state.numero}%0a` +\n      `*Complemento*: ${this.state.complemento}%0a` +\n      `*Pedido as*: ${new Date(\n        new Date().toLocaleString(\"pt-BR\", { timeZone: \"America/Sao_Paulo\" })\n      )}%0a` +\n      `*Total*: R$ ${this.getTotalOrder()}%0a` +\n      `*OBS*: ${this.state.orderDetails}%0a`\n    );\n  }\n}\n\nexport default OrderContainer;\n"]},"metadata":{},"sourceType":"module"}