{"ast":null,"code":"import _classCallCheck from\"/media/tomrlh/Ubuntu_Data/tomrlh/Documents/Programming_Projects/Freelancers/deliverydofran6/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/media/tomrlh/Ubuntu_Data/tomrlh/Documents/Programming_Projects/Freelancers/deliverydofran6/node_modules/@babel/runtime/helpers/esm/createClass\";import _createSuper from\"/media/tomrlh/Ubuntu_Data/tomrlh/Documents/Programming_Projects/Freelancers/deliverydofran6/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/media/tomrlh/Ubuntu_Data/tomrlh/Documents/Programming_Projects/Freelancers/deliverydofran6/node_modules/@babel/runtime/helpers/esm/inherits\";import{Container}from\"unstated\";var OrderContainer=/*#__PURE__*/function(_Container){_inherits(OrderContainer,_Container);var _super=_createSuper(OrderContainer);function OrderContainer(){var _this;_classCallCheck(this,OrderContainer);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={orderDetails:\"\",cep:\"\",logradouro:\"\",numero:\"\",bairro:\"\",cidade:\"\",complemento:\"\",bag:[],total:0,companyTitle:\"Delivery do Fran6\",companyDescription:\"Rua Janary Nunes 815, Infraero 1, Macapá-AP\",companyContact:\"5541998943368\",orderOwner:\"\"};return _this;}_createClass(OrderContainer,[{key:\"formatPrice\",value:function formatPrice(price){return parseInt(price.replace(\",\",\".\"),10);}},{key:\"addToBag\",value:function addToBag(item){this.setState(function(state){var newBag=state.bag.concat(item);var newTotal=state.total+=item.price;return{bag:newBag,total:newTotal};});}},{key:\"addAdditionalsToItem\",value:function addAdditionalsToItem(additionals,id){var itemToUpdate=this.state.bag.filter(function(item){return item.id==id;});itemToUpdate.additionals=additionals;var items=this.state.bag.map(function(item){if(item.id=id)item=itemToUpdate;return item;});}},{key:\"removeFromBag\",value:function removeFromBag(itemToRemove){this.setState(function(state){var newBag=state.bag.filter(function(item){return item.id!=itemToRemove.id;});var newTotal=state.total-=itemToRemove.price;return{bag:newBag,total:newTotal};});}},{key:\"clearOrder\",value:function clearOrder(){this.setState({bag:[],orderOwner:\"\",orderDetails:\"\",addressPlaceholder:\"Adicione o endereço de entrega..\"});}},{key:\"setOrderDetails\",value:function setOrderDetails(orderDetails){this.setState({orderDetails:orderDetails});}},{key:\"setOrderOwner\",value:function setOrderOwner(orderOwner){this.setState({orderOwner:orderOwner});}},{key:\"setCep\",value:function setCep(cep){this.setState({cep:cep});}},{key:\"setComplemento\",value:function setComplemento(complemento){this.setState({complemento:complemento});}},{key:\"setNumero\",value:function setNumero(numero){this.setState({numero:numero});}},{key:\"setLogradouro\",value:function setLogradouro(logradouro){this.setState({logradouro:logradouro});}},{key:\"setBairro\",value:function setBairro(bairro){this.setState({bairro:bairro});}},{key:\"setCidade\",value:function setCidade(cidade){this.setState({cidade:cidade});}},{key:\"isEnderecoPreenchido\",value:function isEnderecoPreenchido(){return this.state.complemento&&this.state.numero&&this.state.logradouro&&this.state.bairro&&this.state.cidade;}},{key:\"formatAdditionals\",value:function formatAdditionals(additionals){var textoFormatado=\"\";if(additionals){textoFormatado=\" com adicionais de: \";additionals.forEach(function(add){textoFormatado+=add.name+\", \";});}return textoFormatado;}},{key:\"getTotalOrder\",value:function getTotalOrder(){var totalOrder=0;this.state.bag.forEach(function(item){totalOrder+=item.price;item.additionals.forEach(function(add){totalOrder+=add.price*add.qtt;});});return totalOrder;}},{key:\"getOrderLink\",value:function getOrderLink(){var _this2=this;var itens=\"\";this.state.bag.forEach(function(item){return itens+=item.name+_this2.formatAdditionals(item.additionals);});return\"https://wa.me/\"+this.state.companyContact+\"?text=Pedido para *\".concat(this.state.orderOwner,\"*: \")+itens+\"%0a\"+\"*Endere\\xE7o*%0a\"+\"*CEP*: \".concat(this.state.cep,\"%0a\")+\"*Cidade*: \".concat(this.state.cidade,\"%0a\")+\"*Logradouro*: \".concat(this.state.logradouro,\"%0a\")+\"*Bairro*: \".concat(this.state.bairro,\"%0a\")+\"*N\\xFAmero*: \".concat(this.state.numero,\"%0a\")+\"*Complemento*: \".concat(this.state.complemento,\"%0a\")+\"*Pedido as*: \".concat(new Date(new Date().toLocaleString(\"pt-BR\",{timeZone:\"America/Sao_Paulo\"})),\"%0a\")+\"*Total*: R$ \".concat(this.getTotalOrder(),\"%0a\")+\"*OBS*: \".concat(this.state.orderDetails,\"%0a\");}}]);return OrderContainer;}(Container);export default OrderContainer;","map":{"version":3,"sources":["/media/tomrlh/Ubuntu_Data/tomrlh/Documents/Programming_Projects/Freelancers/deliverydofran6/src/containers/OrderContainer.js"],"names":["Container","OrderContainer","state","orderDetails","cep","logradouro","numero","bairro","cidade","complemento","bag","total","companyTitle","companyDescription","companyContact","orderOwner","price","parseInt","replace","item","setState","newBag","concat","newTotal","additionals","id","itemToUpdate","filter","items","map","itemToRemove","addressPlaceholder","textoFormatado","forEach","add","name","totalOrder","qtt","itens","formatAdditionals","Date","toLocaleString","timeZone","getTotalOrder"],"mappings":"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","sourcesContent":["import { Container } from \"unstated\";\n\nclass OrderContainer extends Container {\n  state = {\n    orderDetails: \"\",\n    cep: \"\",\n    logradouro: \"\",\n    numero: \"\",\n    bairro: \"\",\n    cidade: \"\",\n    complemento: \"\",\n    bag: [],\n    total: 0,\n    companyTitle: \"Delivery do Fran6\",\n    companyDescription: \"Rua Janary Nunes 815, Infraero 1, Macapá-AP\",\n    companyContact: \"5541998943368\",\n    orderOwner: \"\",\n  };\n\n  formatPrice(price) {\n    return parseInt(price.replace(\",\", \".\"), 10);\n  }\n\n  addToBag(item) {\n    this.setState((state) => {\n      const newBag = state.bag.concat(item);\n      const newTotal = (state.total += item.price);\n      return {\n        bag: newBag,\n        total: newTotal,\n      };\n    });\n  }\n\n  addAdditionalsToItem(additionals, id) {\n    let itemToUpdate = this.state.bag.filter((item) => item.id == id);\n\n    itemToUpdate.additionals = additionals;\n\n    let items = this.state.bag.map((item) => {\n      if ((item.id = id)) item = itemToUpdate;\n      return item;\n    });\n  }\n  removeFromBag(itemToRemove) {\n    this.setState((state) => {\n      const newBag = state.bag.filter((item) => item.id != itemToRemove.id);\n      const newTotal = (state.total -= itemToRemove.price);\n      return {\n        bag: newBag,\n        total: newTotal,\n      };\n    });\n  }\n  clearOrder() {\n    this.setState({\n      bag: [],\n      orderOwner: \"\",\n      orderDetails: \"\",\n      addressPlaceholder: \"Adicione o endereço de entrega..\",\n    });\n  }\n\n  setOrderDetails(orderDetails) {\n    this.setState({ orderDetails });\n  }\n  setOrderOwner(orderOwner) {\n    this.setState({ orderOwner });\n  }\n  setCep(cep) {\n    this.setState({ cep });\n  }\n  setComplemento(complemento) {\n    this.setState({ complemento });\n  }\n  setNumero(numero) {\n    this.setState({ numero });\n  }\n  setLogradouro(logradouro) {\n    this.setState({ logradouro });\n  }\n  setBairro(bairro) {\n    this.setState({ bairro });\n  }\n  setCidade(cidade) {\n    this.setState({ cidade });\n  }\n  isEnderecoPreenchido() {\n    return (\n      this.state.complemento &&\n      this.state.numero &&\n      this.state.logradouro &&\n      this.state.bairro &&\n      this.state.cidade\n    );\n  }\n  formatAdditionals(additionals) {\n    let textoFormatado = \"\";\n\n    if (additionals) {\n      textoFormatado = \" com adicionais de: \";\n      additionals.forEach((add) => {\n        textoFormatado += add.name + \", \";\n      });\n    }\n    return textoFormatado;\n  }\n\n  getTotalOrder() {\n    let totalOrder = 0;\n    this.state.bag.forEach((item) => {\n      totalOrder += item.price;\n      item.additionals.forEach((add) => {\n        totalOrder += add.price * add.qtt;\n      });\n    });\n    return totalOrder;\n  }\n\n  getOrderLink() {\n    let itens = \"\";\n\n    this.state.bag.forEach(\n      (item) => (itens += item.name + this.formatAdditionals(item.additionals))\n    );\n    return (\n      \"https://wa.me/\" +\n      this.state.companyContact +\n      `?text=Pedido para *${this.state.orderOwner}*: ` +\n      itens +\n      \"%0a\" +\n      `*Endereço*%0a` +\n      `*CEP*: ${this.state.cep}%0a` +\n      `*Cidade*: ${this.state.cidade}%0a` +\n      `*Logradouro*: ${this.state.logradouro}%0a` +\n      `*Bairro*: ${this.state.bairro}%0a` +\n      `*Número*: ${this.state.numero}%0a` +\n      `*Complemento*: ${this.state.complemento}%0a` +\n      `*Pedido as*: ${new Date(\n        new Date().toLocaleString(\"pt-BR\", { timeZone: \"America/Sao_Paulo\" })\n      )}%0a` +\n      `*Total*: R$ ${this.getTotalOrder()}%0a` +\n      `*OBS*: ${this.state.orderDetails}%0a`\n    );\n  }\n}\n\nexport default OrderContainer;\n"]},"metadata":{},"sourceType":"module"}